(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2143:function(e,t,r){"use strict";r.d(t,{Q:function(){return l},f:function(){return o}});var n=r(9499),s=r(8945),a=r(3454);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var o=s.Z.create({baseURL:"".concat(a.env.SERVER_BASE_URL),headers:{"Content-Type":"application/json"}});o.interceptors.request.use(function(e){var t=i({},e.headers);return i(i({},e),{},{headers:t})}),o.interceptors.response.use(function(e){return e.data});var l=s.Z.create({baseURL:"".concat(a.env.SERVER_GITHUB_USER_URL),headers:{"Content-Type":"application/json"}})},3326:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n={Comments:"COMMENTS",GithubUser:"GITHUB_USER",Activities:"ACTIVITIES"}},6051:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(9008),s=r.n(n),a=r(1664),c=r.n(a),i=r(1163),o=r(5893),l=function(){var e=(0,i.useRouter)();return(0,o.jsx)("nav",{className:"sticky bottom-0 left-0 right-0 flex items-center justify-between px-3 py-2 bg-gray-100 border border-blue-dark",children:[{url:"comment",text:"방명록"},{url:"",text:"소개"},{url:"blog",text:"블로그"}].map(function(t){return(0,o.jsx)(c(),{href:"/".concat(t.url),passHref:!0,className:"flex-1 text-center",children:(0,o.jsx)("span",{className:"".concat(e.pathname==="/".concat(t.url)?"font-bold":"text-gray-500"),children:t.text})},t.url)})})},u=r(5675),d=r.n(u),f=r(2640),p=r(7294),x=function(){var e=p.useState(!1),t=(0,f.Z)(e,2),r=t[0],n=t[1];return{modalVisible:r,openModal:function(){return n(!0)},closeModal:function(){return n(!1)}}},h=r(1806),g=function(e){var t=e.closeModal;return(0,o.jsx)("div",{onClick:t,className:"fixed top-0 right-0 bottom-0 left-0 bg-black opacity-30"})};function m(){return(0,o.jsxs)("header",{className:"sticky top-0 left-0 right-0 z-10 flex items-end justify-between border border-blue-dark p-3 bg-gray-100 text-center",children:[(0,o.jsx)("strong",{className:"text-2xl",children:"령로그"}),(0,o.jsx)(b,{})]})}var b=function(){var e=x(),t=e.modalVisible,r=e.openModal,n=e.closeModal;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-gray-500 underline decoration-wavy decoration-blue underline-offset-4 cursor-pointer",onClick:r,children:"@soryeongk"}),t&&(0,o.jsx)(j,{closeModal:n})]})},j=function(e){var t=e.closeModal;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g,{closeModal:t}),(0,o.jsxs)("div",{className:"fixed top-[50%] left-[50%] -translate-x-[50%] -translate-y-[50%] flex items-center justify-center gap-x-4 bg-white rounded-3xl overflow-hidden w-[275px] h-[275px]",children:[(0,o.jsx)("div",{className:"absolute top-4 right-4 cursor-pointer",onClick:t,children:(0,o.jsx)(h.Z,{})}),(0,o.jsx)("a",{href:"https://github.com/soryeongk",target:"_blank",rel:"noreferrer",children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,o.jsx)("div",{className:"relative w-9 h-9",children:(0,o.jsx)(d(),{src:"".concat("","/images/github-mark.png"),alt:"깃헙 아이콘",fill:!0})}),(0,o.jsx)("span",{children:"github"})]})}),(0,o.jsx)("a",{href:"https://www.instagram.com/soryeongk",target:"_blank",rel:"noreferrer",children:(0,o.jsxs)("div",{className:"flex flex-col items-center gap-y-1",children:[(0,o.jsx)("div",{className:"relative w-9 h-9",children:(0,o.jsx)(d(),{src:"".concat("","/images/instagram.png"),alt:"깃헙 아이콘",fill:!0})}),(0,o.jsx)("span",{children:"instagram"})]})})]})]})};function v(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s(),{children:[(0,o.jsx)("title",{children:"령로그"}),(0,o.jsx)("meta",{"http-equiv":"Content-Security-Policy",content:"upgrade-insecure-requests"}),(0,o.jsx)("meta",{name:"description",content:"귀여운 령이의 귀엽지만은 않은 포트폴리오"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)(m,{}),(0,o.jsx)("main",{className:"flex-1 border-x border-x-blue-dark",children:e.children}),(0,o.jsx)(l,{})]})}},5221:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(5893);function s(e){var t=e.title;return(0,n.jsx)("span",{className:"p-3 text-xl font-bold",children:t})}},1806:function(e,t,r){"use strict";var n=r(5893);t.Z=function(){return(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M10.0003 1.66699C5.39824 1.66699 1.66699 5.39824 1.66699 10.0003C1.66699 14.6024 5.39824 18.3337 10.0003 18.3337C14.6024 18.3337 18.3337 14.6024 18.3337 10.0003C18.3337 5.39824 14.6024 1.66699 10.0003 1.66699Z",fill:"#A4AAAE"}),(0,n.jsx)("path",{d:"M13.1382 12.1955L10.9429 10.0003C10.9429 10.0003 13.0362 7.90776 13.1382 7.8051C13.3988 7.54511 13.3988 7.12314 13.1382 6.86248C12.8782 6.60183 12.4562 6.60183 12.1955 6.86248L10.0003 9.05771C10.0003 9.05771 7.90776 6.96448 7.8051 6.86248C7.54511 6.60183 7.12314 6.60183 6.86248 6.86248C6.60183 7.12247 6.60183 7.54445 6.86248 7.8051L9.05771 10.0003C9.05771 10.0003 6.96448 12.0929 6.86248 12.1955C6.60183 12.4555 6.60183 12.8775 6.86248 13.1382C7.12247 13.3988 7.54445 13.3988 7.8051 13.1382L10.0003 10.9429C10.0003 10.9429 12.0929 13.0362 12.1955 13.1382C12.4555 13.3988 12.8775 13.3988 13.1382 13.1382C13.3988 12.8782 13.3988 12.4562 13.1382 12.1955Z",fill:"white"})]})}},5033:function(e,t,r){"use strict";r.d(t,{sH:function(){return g},so:function(){return m},gg:function(){return h}});var n,s,a,c=r(8767),i=r(29),o=r(7794),l=r.n(o),u=r(2143),d=(n=(0,i.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.f.get("/comment");case 2:return t=e.sent.data,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),f=(s=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.f.post("/comment",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),p=(a=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.f.delete("comment/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),x=r(3326),h=function(){var e=(0,c.useQuery)(x.l.Comments,d);return{data:e.data,isLoading:e.isLoading,isError:e.isError}},g=function(e){var t=(0,c.useQueryClient)();return(0,c.useMutation)(f,{onSuccess:function(){null==e||e(),t.invalidateQueries(x.l.Comments)}})},m=function(){var e=(0,c.useQueryClient)();return(0,c.useMutation)(p,{onSuccess:function(){e.invalidateQueries(x.l.Comments)}})}},7503:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(6051),s=r(5221),a=r(9499),c=r(7294),i=r(5033),o=r(5893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,a.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(){var e=(0,c.useState)({content:""}),t=e[0],r=e[1],n=(0,i.sH)(function(){r({writer:"",content:""})});return(0,o.jsxs)("form",{className:"flex flex-col gap-y-4 p-3 bg-gray-100",onSubmit:function(e){e.preventDefault(),n.mutate(u({},t))},children:[(0,o.jsxs)("fieldset",{className:"flex flex-col gap-y-2",children:[(0,o.jsxs)("label",{className:"flex items-center gap-x-1",children:[(0,o.jsx)("strong",{children:"작성자"}),(0,o.jsx)("span",{children:"(익명으로 남길 수도 있어요!)"})]}),(0,o.jsx)("input",{type:"text",className:"p-2 bg-transparent border border-navy-dark rounded-lg placeholder:text-500",placeholder:"댓글을 쓰는 당신의 이름은 무엇인가요?",value:t.writer||"",onChange:function(e){r(function(t){return u(u({},t),{},{writer:e.target.value})})}})]}),(0,o.jsxs)("fieldset",{className:"flex flex-col gap-y-2",children:[(0,o.jsxs)("label",{className:"flex items-center gap-x-1",children:[(0,o.jsx)("strong",{children:"방명록"}),(0,o.jsx)("span",{children:"(어떤 내용이든 좋아요 :D)"})]}),(0,o.jsx)("textarea",{className:"p-2 bg-transparent border border-navy-dark rounded-lg placeholder:text-500",placeholder:"방명록을 남겨주세요 :) 응원은 큰 힘이 됩니다!",value:t.content,onChange:function(e){r(function(t){return u(u({},t),{},{content:e.target.value})})}})]}),(0,o.jsx)("button",{type:"submit",className:"border border-navy-dark rounded-lg p-2 bg-navy text-white disabled:bg-gray-300 disabled:text-gray-500 disabled:border-gray-500",disabled:!t.content,children:"작성완료"})]})},f=function(){var e=(0,i.gg)(),t=e.data,r=e.isLoading,n=e.isError;return r?(0,o.jsx)("div",{children:"댓글 목록을 불러오는 중이에요!"}):!t||n?(0,o.jsx)("div",{children:"댓글 목록을 불러오는데 실패했어요ㅠ"}):(0,o.jsx)("ul",{className:"flex flex-col-reverse gap-y-[1px] bg-transparent",children:t.comments.map(function(e){return(0,o.jsxs)("li",{className:"relative flex flex-col gap-y-1 py-5 px-3 bg-gray-100",children:[(0,o.jsxs)("div",{className:"flex items-center p-1",children:[(0,o.jsxs)("strong",{children:["\uD83D\uDCCC ",e.writer||"익명의 방문자"]}),(0,o.jsx)("span",{children:"님이 남긴 방명록"})]}),(0,o.jsx)("p",{className:"border border-blue-dark rounded-lg p-2",children:e.content}),(0,o.jsx)("span",{className:"p-1 text-gray-400",children:new Date(e.createdAt).toDateString()})]},e._id)})})};function p(){return(0,o.jsx)(n.Z,{children:(0,o.jsxs)("div",{className:"flex flex-col gap-y-1 bg-gray-100 ",children:[(0,o.jsx)(s.Z,{title:"방명록"}),(0,o.jsx)(d,{}),(0,o.jsx)(f,{})]})})}},2681:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/comment",function(){return r(7503)}])}},function(e){e.O(0,[479,675,774,888,179],function(){return e(e.s=2681)}),_N_E=e.O()}]);